{"version":3,"sources":["../../../src/setup/server/middlewares.js"],"names":["server","console","info","use","origin","WEB_URL","MOBILE_URL","bodyParser","json","urlencoded","extended","express","path","join","__dirname","NODE_ENV"],"mappings":";;;;;;;;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAGA;;AATA;AAQA;AAGA;AACe,kBAAUA,MAAV,EAAkB;AAC/BC,EAAAA,OAAO,CAACC,IAAR,CAAa,uBAAb,EAD+B,CAG/B;;AACAF,EAAAA,MAAM,CAACG,GAAP,CAAW,sBAAK;AACdC,IAAAA,MAAM,EAAE,CAACC,YAAD,EAAUC,eAAV,CADM;AAEd,eAASD;AAFK,GAAL,CAAX,EAJ+B,CAS/B;;AACAL,EAAAA,MAAM,CAACG,GAAP,CAAWI,uBAAWC,IAAX,EAAX;AACAR,EAAAA,MAAM,CAACG,GAAP,CAAWI,uBAAWE,UAAX,CAAsB;AAAEC,IAAAA,QAAQ,EAAE;AAAZ,GAAtB,CAAX,EAX+B,CAa/B;;AACAV,EAAAA,MAAM,CAACG,GAAP,CAAW,+BAAX,EAd+B,CAgB/B;;AACAH,EAAAA,MAAM,CAACG,GAAP,CAAWQ,8BAAeC,iBAAKC,IAAL,CAAUC,SAAV,EAAqB,IAArB,EAA2B,IAA3B,EAAiC,IAAjC,EAAuC,QAAvC,CAAf,CAAX,EAjB+B,CAmB/B;;AACA,MAAGC,kBAAa,aAAhB,EAA+B;AAC7Bf,IAAAA,MAAM,CAACG,GAAP,CAAW,wBAAO,MAAP,CAAX;AACD;AACF","sourcesContent":["// Imports\r\nimport express from 'express'\r\nimport path from 'path'\r\nimport cors from 'cors'\r\nimport bodyParser from 'body-parser'\r\nimport cookieParser from 'cookie-parser'\r\nimport morgan from 'morgan'\r\n\r\n// App Imports\r\nimport { NODE_ENV, WEB_URL, MOBILE_URL } from '../config/env'\r\n\r\n// Setup middlewares\r\nexport default function (server) {\r\n  console.info('SETUP - Middlewares..')\r\n\r\n  // Enable CORS\r\n  server.use(cors({\r\n    origin: [WEB_URL, MOBILE_URL],\r\n    default: WEB_URL\r\n  }))\r\n\r\n  // Request body parser\r\n  server.use(bodyParser.json())\r\n  server.use(bodyParser.urlencoded({ extended: false }))\r\n\r\n  // Request body cookie parser\r\n  server.use(cookieParser())\r\n\r\n  // Static files folder\r\n  server.use(express.static(path.join(__dirname, '..', '..', '..', 'public')))\r\n\r\n  // HTTP logger\r\n  if(NODE_ENV === 'development') {\r\n    server.use(morgan('tiny'))\r\n  }\r\n}\r\n"],"file":"middlewares.js"}